# Base ModSecurity configuration (Nginx-compatible)

# Core engine settings
SecRuleEngine On
SecRequestBodyAccess On
SecResponseBodyAccess Off

# Body limits (tune as needed)
SecRequestBodyLimit 13107200
SecRequestBodyNoFilesLimit 131072
SecResponseBodyLimit 524288

# Temporary and persistent storage
SecTmpDir /tmp
SecDataDir /tmp

# Debug logging (set level 0-9; 0 disables debug)
SecDebugLog /var/log/modsecurity/debug.log
SecDebugLogLevel 0

# Audit logging
SecAuditEngine RelevantOnly
SecAuditLog /var/log/modsecurity/audit.log
SecAuditLogFormat JSON
SecAuditLogParts ABIJDEFHZ
SecAuditLogType Serial

# Status engine (basic runtime info)
SecStatusEngine On

# Note: OWASP CRS includes are loaded via /etc/nginx/modsec/main.conf
# This file focuses on baseline engine and logging configuration only.